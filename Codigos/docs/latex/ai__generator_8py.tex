\doxysection{backend/app/api/v1/endpoints/ai\+\_\+generator.py File Reference}
\hypertarget{ai__generator_8py}{}\label{ai__generator_8py}\index{backend/app/api/v1/endpoints/ai\_generator.py@{backend/app/api/v1/endpoints/ai\_generator.py}}


Define os endpoints da API para interações com o serviço de IA generativa.  


\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classapi_1_1v1_1_1endpoints_1_1ai__generator_1_1PlanRequest}{api.\+v1.\+endpoints.\+ai\+\_\+generator.\+Plan\+Request}}
\begin{DoxyCompactList}\small\item\em Schema para a requisição de geração de plano de treino. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classapi_1_1v1_1_1endpoints_1_1ai__generator_1_1TipResponse}{api.\+v1.\+endpoints.\+ai\+\_\+generator.\+Tip\+Response}}
\begin{DoxyCompactList}\small\item\em Schema para a resposta da dica diária. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classapi_1_1v1_1_1endpoints_1_1ai__generator_1_1PlanResponse}{api.\+v1.\+endpoints.\+ai\+\_\+generator.\+Plan\+Response}}
\begin{DoxyCompactList}\small\item\em Schema para a resposta do plano de treino gerado. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ai__generator_8py_a0784c14e61aaf3d0ee50d4925e41c28f}{api.\+v1.\+endpoints.\+ai\+\_\+generator.\+get\+\_\+daily\+\_\+tip}} (Session db=Depends(get\+\_\+db), User\+Model current\+\_\+user=Depends(get\+\_\+current\+\_\+active\+\_\+user))
\begin{DoxyCompactList}\small\item\em Fornece uma dica de fitness diária gerada pela IA. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ai__generator_8py_a4a97cd4119074f62959ad36334e0d042}{api.\+v1.\+endpoints.\+ai\+\_\+generator.\+generate\+\_\+plan}} (\mbox{\hyperlink{classapi_1_1v1_1_1endpoints_1_1ai__generator_1_1PlanRequest}{Plan\+Request}} request, Session db=Depends(get\+\_\+db), User\+Model current\+\_\+user=Depends(get\+\_\+current\+\_\+active\+\_\+user))
\begin{DoxyCompactList}\small\item\em Gera um plano de treino personalizado com base no prompt do utilizador. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ai__generator_8py_a72f5ebe9b13f0c44cb43e437bcf29315}{api.\+v1.\+endpoints.\+ai\+\_\+generator.\+read\+\_\+ia\+\_\+interaction\+\_\+history}} (Session db=Depends(get\+\_\+db), int skip=0, int limit=100, User\+Model current\+\_\+user=Depends(get\+\_\+current\+\_\+active\+\_\+user))
\begin{DoxyCompactList}\small\item\em Obtém o histórico de interações do utilizador com a IA. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{ai__generator_8py_a6c0ae29351bc929e24479cebd24574b2}\label{ai__generator_8py_a6c0ae29351bc929e24479cebd24574b2} 
{\bfseries api.\+v1.\+endpoints.\+ai\+\_\+generator.\+router} = APIRouter()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Define os endpoints da API para interações com o serviço de IA generativa. 

\begin{DoxyAuthor}{Author}
André Luis Aguiar do Nascimento 

Hugo Samuel de Lima Oliveira 

Leonardo Sampaio Serra 

Lucas Emanoel Amaral Gomes 

Wesley dos Santos Gatinho 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\Hypertarget{ai__generator_8py_a4a97cd4119074f62959ad36334e0d042}\label{ai__generator_8py_a4a97cd4119074f62959ad36334e0d042} 
\index{ai\_generator.py@{ai\_generator.py}!generate\_plan@{generate\_plan}}
\index{generate\_plan@{generate\_plan}!ai\_generator.py@{ai\_generator.py}}
\doxysubsubsection{\texorpdfstring{generate\_plan()}{generate\_plan()}}
{\footnotesize\ttfamily api.\+v1.\+endpoints.\+ai\+\_\+generator.\+generate\+\_\+plan (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classapi_1_1v1_1_1endpoints_1_1ai__generator_1_1PlanRequest}{Plan\+Request}}}]{request,  }\item[{Session }]{db = {\ttfamily Depends(get\+\_\+db)},  }\item[{User\+Model }]{current\+\_\+user = {\ttfamily Depends(get\+\_\+current\+\_\+active\+\_\+user)} }\end{DoxyParamCaption})}



Gera um plano de treino personalizado com base no prompt do utilizador. 

\begin{DoxyVerb}Valida o prompt, chama o serviço de IA para gerar o plano, salva a interação
e retorna o plano de treino.

:param (PlanRequest) request: O corpo da requisição com o prompt do utilizador.
:param (Session) db: A sessão da base de dados.
:param (UserModel) current_user: O utilizador autenticado.
:raises HTTPException: Se o prompt for muito curto ou se o serviço de IA falhar.
:return (PlanResponse): Um objeto JSON com o plano de treino gerado.
\end{DoxyVerb}
 \Hypertarget{ai__generator_8py_a0784c14e61aaf3d0ee50d4925e41c28f}\label{ai__generator_8py_a0784c14e61aaf3d0ee50d4925e41c28f} 
\index{ai\_generator.py@{ai\_generator.py}!get\_daily\_tip@{get\_daily\_tip}}
\index{get\_daily\_tip@{get\_daily\_tip}!ai\_generator.py@{ai\_generator.py}}
\doxysubsubsection{\texorpdfstring{get\_daily\_tip()}{get\_daily\_tip()}}
{\footnotesize\ttfamily api.\+v1.\+endpoints.\+ai\+\_\+generator.\+get\+\_\+daily\+\_\+tip (\begin{DoxyParamCaption}\item[{Session }]{db = {\ttfamily Depends(get\+\_\+db)},  }\item[{User\+Model }]{current\+\_\+user = {\ttfamily Depends(get\+\_\+current\+\_\+active\+\_\+user)} }\end{DoxyParamCaption})}



Fornece uma dica de fitness diária gerada pela IA. 

\begin{DoxyVerb}Este endpoint requer um utilizador autenticado e ativo. Ele chama o serviço de IA,
salva a interação na base de dados e retorna a dica.

:param (Session) db: A sessão da base de dados.
:param (UserModel) current_user: O utilizador autenticado.
:raises HTTPException: Se o serviço de IA não estiver disponível.
:return (TipResponse): Um objeto JSON com a dica do dia.
\end{DoxyVerb}
 \Hypertarget{ai__generator_8py_a72f5ebe9b13f0c44cb43e437bcf29315}\label{ai__generator_8py_a72f5ebe9b13f0c44cb43e437bcf29315} 
\index{ai\_generator.py@{ai\_generator.py}!read\_ia\_interaction\_history@{read\_ia\_interaction\_history}}
\index{read\_ia\_interaction\_history@{read\_ia\_interaction\_history}!ai\_generator.py@{ai\_generator.py}}
\doxysubsubsection{\texorpdfstring{read\_ia\_interaction\_history()}{read\_ia\_interaction\_history()}}
{\footnotesize\ttfamily api.\+v1.\+endpoints.\+ai\+\_\+generator.\+read\+\_\+ia\+\_\+interaction\+\_\+history (\begin{DoxyParamCaption}\item[{Session }]{db = {\ttfamily Depends(get\+\_\+db)},  }\item[{int }]{skip = {\ttfamily 0},  }\item[{int }]{limit = {\ttfamily 100},  }\item[{User\+Model }]{current\+\_\+user = {\ttfamily Depends(get\+\_\+current\+\_\+active\+\_\+user)} }\end{DoxyParamCaption})}



Obtém o histórico de interações do utilizador com a IA. 

\begin{DoxyVerb}Retorna uma lista paginada de todas as interações passadas entre o
utilizador autenticado e o serviço de IA.

:param (Session) db: A sessão da base de dados.
:param (int) skip: O número de registos a pular (para paginação).
:param (int) limit: O número máximo de registos a retornar.
:param (UserModel) current_user: O utilizador autenticado.
:return (List[RegistroInteracaoIA]): Uma lista de registos de interação.
\end{DoxyVerb}
 